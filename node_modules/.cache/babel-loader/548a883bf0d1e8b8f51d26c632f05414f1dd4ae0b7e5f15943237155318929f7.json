{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\haim\\\\Desktop\\\\project\\\\\\u05E1\\u05D5\\u05E4\\u05D9\\\\E-Shop\\\\frontend\\\\src\\\\components\\\\ProductItem.js\",\n  _s = $RefreshSig$();\nimport { useContext, Link, Card, Button, Rating, Store, ADD_TO_CART } from '../Imports';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProductItem = _ref => {\n  _s();\n  let {\n    product\n  } = _ref;\n  const {\n    state,\n    dispatch: ctxDispatch\n  } = useContext(Store);\n  const {\n    cart: {\n      cartItems\n    }\n  } = state;\n  const addToCartHandler = item => {\n    const existItem = cartItems.find(x => x._id === product._id);\n    const quantity = existItem ? existItem.quantity + 1 : 1;\n    if (item.countInStock < quantity) {\n      window.alert('Sorry, this item is unavailable');\n    }\n    ctxDispatch({\n      type: ADD_TO_CART,\n      payload: {\n        ...item,\n        quantity\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(Card, {\n    className: \"product-card\",\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      to: `/product/${product.token}`,\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"card-img-top\",\n        src: product.image,\n        alt: product.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n      className: \"d-flex flex-column  justify-content-end\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: `/product/${product.token}`,\n        children: /*#__PURE__*/_jsxDEV(Card.Title, {\n          className: \"custom-title\",\n          children: product.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Rating, {\n        rating: product.rating\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n        children: /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: [product.price, \"$\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this), product.countInStock === 0 ? /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"light\",\n        disabled: true,\n        children: \"Out of Stock\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => addToCartHandler(product, product.quantity),\n        children: \"Add to cart\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 5\n  }, this);\n};\n_s(ProductItem, \"XDbruNh/h18/KyvLzI/kuU/R8wE=\");\n_c = ProductItem;\nexport default ProductItem;\nvar _c;\n$RefreshReg$(_c, \"ProductItem\");","map":{"version":3,"names":["useContext","Link","Card","Button","Rating","Store","ADD_TO_CART","jsxDEV","_jsxDEV","ProductItem","_ref","_s","product","state","dispatch","ctxDispatch","cart","cartItems","addToCartHandler","item","existItem","find","x","_id","quantity","countInStock","window","alert","type","payload","className","children","to","token","src","image","alt","name","fileName","_jsxFileName","lineNumber","columnNumber","Body","Title","title","rating","Text","price","variant","disabled","onClick","_c","$RefreshReg$"],"sources":["C:/Users/haim/Desktop/project/סופי/E-Shop/frontend/src/components/ProductItem.js"],"sourcesContent":["import {\n  useContext,\n  Link,\n  Card,\n  Button,\n  Rating,\n  Store,\n  ADD_TO_CART,\n} from '../Imports';\n\nconst ProductItem = ({ product }) => {\n  const { state, dispatch: ctxDispatch } = useContext(Store);\n  const {\n    cart: { cartItems },\n  } = state;\n  const addToCartHandler = (item) => {\n    const existItem = cartItems.find((x) => x._id === product._id);\n    const quantity = existItem ? existItem.quantity + 1 : 1;\n    if (item.countInStock < quantity) {\n      window.alert('Sorry, this item is unavailable');\n    }\n    ctxDispatch({\n      type: ADD_TO_CART,\n      payload: { ...item, quantity },\n    });\n  };\n\n  return (\n    <Card className=\"product-card\">\n      <Link to={`/product/${product.token}`}>\n        <img className=\"card-img-top\" src={product.image} alt={product.name} />\n      </Link>\n      <Card.Body className=\"d-flex flex-column  justify-content-end\">\n        <Link to={`/product/${product.token}`}>\n          <Card.Title className=\"custom-title\">{product.title}</Card.Title>\n        </Link>\n        <Rating rating={product.rating} />\n        <Card.Text>\n          <strong>{product.price}$</strong>\n        </Card.Text>\n        {product.countInStock === 0 ? (\n          <Button variant=\"light\" disabled>\n            Out of Stock\n          </Button>\n        ) : (\n          <Button onClick={() => addToCartHandler(product, product.quantity)}>\n            Add to cart\n          </Button>\n        )}\n      </Card.Body>\n    </Card>\n  );\n};\n\nexport default ProductItem;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}